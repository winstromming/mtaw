{"mappings":"AE8BA,0SAWA,0DAGA,oFAEA,4C,wD,+CCwBA,mHAMA,yH,gFAMA,uFAIE,gFAGA,4QAaF,oEAMA,2EAIA,kDAGE,0D,gFAMF,2EAGE,uGAGF,2HAIE,6IC9FF,kEAKA,4BAGA,2DAKA,iUAeA,iCCuIA,yIAMA,gKAMA,8DAGA,+DAGA,mHAUA,yFAIA,iNCjBA,qB,8CASA,6BAIE,iDAIF,yDAEA,kD,mEAQA,wHAME,mFAIA,gGAKA,mEAGF,mEAGA,iJAKE,qHAIF","sources":["source.aa167c02.css","4552b303c14c6204","source/modules/common/Card.vue","source/modules/common/Dots.vue","source/modules/sections/Conditions.vue","source/modules/common/Choose.vue","source/index.vue"],"sourcesContent":[".card {\n  box-shadow: 0 5px 25px #0000000d;\n  --n-border-radius: 7px !important;\n  --n-border-color: #ddd !important;\n  --n-line-height: 16px !important;\n  --n-padding-top: 16px !important;\n  --n-padding-left: 16px !important;\n  --n-padding-right: 16px !important;\n  --n-padding-bottom: 16px !important;\n  --n-title-font-size: 16px !important;\n}\n\n.card .n-card__action {\n  border-top: 1px solid #ddd !important;\n}\n\n.n-card-header__main {\n  white-space: nowrap;\n  min-width: 0 !important;\n  height: 24px !important;\n}\n\n.n-card-header__extra {\n  height: 24px !important;\n}\n\n.n-card-header__main .n-text {\n  line-height: 24px !important;\n}\n\n.card .card {\n  --n-title-font-size: 14px !important;\n}\n\n.dots-input {\n  --n-height: 17px !important;\n  background-color: #0000 !important;\n  flex: 1 !important;\n  line-height: 17px !important;\n}\n\n.dots-input.n-input--disabled .n-input-wrapper, .dots-input.n-input--disabled .n-input__input-el {\n  cursor: default !important;\n}\n\n.dots-input .n-input-wrapper {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n\n.dots-input .n-input__border, .dots-input .n-input__state-border {\n  display: none !important;\n}\n\n.dots-input[color=\"false\"] .n-input__input-el {\n  color: var(--n-color-text) !important;\n}\n\n.choose-text[color=\"true\"] .n-input__input-el, .choose-text[color=\"true\"] .n-input__textarea-el, .choose-text[color=\"true\"] .n-base-selection-input__content, .dots-input .n-input__input-el, .dots-input .n-input__input-el:not([disabled=\"\"]) {\n  color: var(--n-color-target) !important;\n}\n\n.dots-check, .dots-input .n-input__prefix {\n  margin-right: 6px !important;\n}\n\n.dots-input .n-input__suffix {\n  flex-grow: 0 !important;\n  flex-shrink: 0 !important;\n}\n\n.dots-rate.n-rate {\n  vertical-align: middle !important;\n}\n\n.dots-rate.n-rate .n-rate__item {\n  margin-left: 1px !important;\n}\n\n.dots-rate.n-rate .n-rate__item svg circle {\n  stroke: var(--n-text-color) !important;\n}\n\n.n-input[color=\"true\"] .n-text--strong {\n  color: var(--n-color-target) !important;\n}\n\n.n-input[color=\"true\"] .dots-rate.n-rate .n-rate__item svg circle {\n  stroke: var(--n-color-target) !important;\n}\n\n.dots-rate.n-rate .n-rate__item--active svg circle {\n  fill: var(--n-text-color) !important;\n  stroke: var(--n-text-color) !important;\n}\n\n.n-input[color=\"true\"] .dots-rate .n-rate__item--active svg circle {\n  fill: var(--n-color-target) !important;\n  stroke: var(--n-color-target) !important;\n}\n\n.choose-tag-text:before {\n  content: \"•\";\n  color: #000;\n  margin-right: 4px;\n}\n\n.choose-tag-text {\n  width: 100%;\n}\n\n.tag-text:before {\n  content: \"•\";\n  color: #000;\n  margin-right: 4px;\n}\n\n.tag-text {\n  --n-border-radius: 5px;\n  box-shadow: none;\n  --n-text-color: var(--n-color-target);\n  white-space: normal;\n  --n-color: transparent;\n  width: 100%;\n  color: var(--n-color-target);\n  justify-content: flex-start;\n  --n-border: none !important;\n  --n-height: auto !important;\n  --n-padding: 0 !important;\n  min-height: 21px !important;\n  line-height: 21px !important;\n}\n\n.tag-text span {\n  margin-right: auto;\n}\n\n.choose-text .n-base-selection, .choose-text .n-input {\n  --n-padding-single: 0 !important;\n  --n-height: 20px !important;\n  line-height: 20px !important;\n}\n\n.choose-text.n-input.n-input--textarea {\n  --n-padding-vertical: 0 !important;\n  --n-line-height-textarea: 20px !important;\n  --n-height: 20px !important;\n  height: auto !important;\n}\n\n.choose-text .n-base-selection-label {\n  background: none !important;\n}\n\n.choose-text .n-base-selection-placeholder {\n  justify-content: end;\n}\n\n.choose-text.n-input, .choose-text.n-input .n-input__input-el {\n  height: 20px;\n  line-height: 20px;\n  background: none !important;\n}\n\n.choose-text .n-input-wrapper {\n  --n-padding-right: 0 !important;\n  --n-padding-left: 0 !important;\n}\n\n.choose-text .n-base-selection__border, .choose-text .n-input__border, .choose-text .n-base-selection__state-border, .choose-text .n-input__state-border, .choose-text .n-base-selection .n-base-suffix {\n  display: none;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  background-color: #f7f3ee;\n  min-height: 100%;\n}\n\n.bg {\n  background-color: #dfdfb6;\n}\n\n.n-layout, .n-layout-sider {\n  background-color: #0000;\n}\n\n.n-layout-sider__border {\n  background-color: #0000 !important;\n}\n\n.n-drawer-body-content-wrapper {\n  background: #f6f6f6;\n}\n\n.sheet {\n  min-width: 400px;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 24px;\n}\n\n.name-input {\n  --n-border: 0 !important;\n  --n-height: auto !important;\n  --n-padding-left: 0 !important;\n  --n-padding-right: 0 !important;\n}\n\n.name-input .n-input__state-border {\n  box-shadow: none !important;\n  border: none !important;\n}\n\n.name-input .n-input__input-el, .name-input .n-input__placeholder {\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.n-input.n-input--textarea {\n  --n-line-height-textarea: 21px !important;\n}\n\n.n-input.n-input--textarea .n-input__prefix {\n  align-items: flex-start;\n}\n\n.n-input.n-input--textarea .n-input__prefix span {\n  padding-top: var(--n-padding-vertical);\n  padding-bottom: var(--n-padding-vertical);\n  line-height: 21px;\n}\n\n.n-input-number.text-right input.n-input__input-el, .n-input-number.text-right .n-input__placeholder {\n  text-align: right;\n}\n\n.n-select.n-select--disabled, .n-base-selection.n-base-selection--disabled {\n  opacity: .5;\n}\n/*# sourceMappingURL=source.aa167c02.css.map */\n","@import \"ae76ab71bfb4f3f9\";\n@import \"9ef1ce2484ee8cc5\";\n@import \"4922502f073cad68\";\n@import \"d900e55df05a1928\";\n@import \"5f449c809b2223d5\";\n","<template>\n  <n-card size=\"small\" class=\"card\" style=\"--n-border-color: #ddd\">\n    <template #header>\n      <n-flex style=\"flex-wrap: nowrap\" align=\"center\" :size=\"4\" v-if=\"title\">\n        <slot name=\"icon\" />\n        <n-ellipsis :tooltip=\"false\" style=\"padding-right: 5px;\">\n          <n-text>{{ title }}</n-text>\n        </n-ellipsis>\n      </n-flex>\n    </template>\n    <template #header-extra>\n      <slot name=\"header\" />\n    </template>\n    <template #default>\n      <slot name=\"content\" />\n    </template>\n    <template #action>\n      <slot name=\"footer\" />\n    </template>\n  </n-card>\n</template>\n\n<script setup lang=\"ts\">\ndefineProps<{\n  title?: string;\n  editable?: boolean\n}>();\n</script>\n\n<style>\n.card {\n  --n-border-radius: 7px !important;\n  --n-border-color: #ddd !important;\n  box-shadow: 0 5px 25px rgba(0,0,0,0.05);\n  --n-line-height: 16px !important;\n  --n-padding-top: 16px !important;\n  --n-padding-left: 16px !important;\n  --n-padding-right: 16px !important;\n  --n-padding-bottom: 16px !important;\n  --n-title-font-size: 16px !important;\n}\n.card .n-card__action {\n  border-top: 1px solid #ddd !important;\n}\n.n-card-header__main { height: 24px !important; min-width: 0 !important; white-space: nowrap; }\n.n-card-header__extra { height: 24px !important; }\n.n-card-header__main .n-text { line-height: 24px !important; }\n.card .card { --n-title-font-size: 14px !important; }\n</style>\n","<template>\n  <n-input class=\"dots-input\" size=\"small\" :disabled=\"props.isEditable === false\" :readonly=\"props.isEditable === false\" type=\"text\" :value=\"props.label\" :on-update:value=\"updateLabel\" :placeholder=\"props.placeholder ?? ''\" :color=\"props.checked ?? props.color\">\n    <template #prefix v-if=\"props.name || props.checked !== undefined\">\n      <n-text v-if=\"props.name\" strong :style=\"{ cursor: props.checked !== undefined && !checkedDisabled ? 'pointer' : 'default' }\" @click=\"props.checked !== undefined && props.checkedDisabled !== true ?updateChecked(!props.checked) : null\">{{ props.name }}</n-text>\n    </template>\n    <template #suffix v-if=\"props.dots !== undefined\">\n      <n-rate class=\"dots-rate\" size=\"small\" clearable :count=\"props.max\" v-model:value=\"props.dots\" :on-update:value=\"updateDots\">\n        <n-icon :size=\"14\">\n          <Circle />\n        </n-icon>\n      </n-rate>\n    </template>\n  </n-input>\n</template>\n\n<script setup lang=\"ts\">\nimport { Circle } from 'lucide-vue-next';\n\n\nconst props = defineProps({\n  name: {\n    type: String,\n    default: undefined,\n  },\n  dots: {\n    type: Number,\n    default: undefined,\n  },\n  color: {\n    type: Boolean,\n    default: false,\n  },\n  placeholder: {\n    type: String,\n    default: \"\",\n  },\n  label: {\n    type: String,\n    default: undefined,\n  },\n  isEditable: {\n    type: Boolean,\n    default: false,\n  },\n  checked: {\n    type: Boolean,\n    default: undefined,\n  },\n  checkedDisabled: {\n    type: Boolean,\n    default: false,\n  },\n  max: {\n    type: Number,\n    default: 5,\n  },\n});\n\nconst emit = defineEmits<{\n  (event: \"updateDots\", dots: number): void;\n  (event: \"updateLabel\", label: string): void;\n  (event: \"updateChecked\", check: boolean): void;\n}>();\n\nconst updateDots = (dots: number) => emit(\"updateDots\", dots);\nconst updateLabel = (label: string) => emit(\"updateLabel\", label);\nconst updateChecked = (checked: boolean) => emit(\"updateChecked\", checked);\n</script>\n\n<style>\n.dots-input {\n  flex: 1 !important;\n  background-color: transparent !important;\n  --n-height: 17px !important;\n  line-height: 17px !important;\n}\n.dots-input.n-input--disabled .n-input-wrapper { cursor: default !important}\n.dots-input.n-input--disabled .n-input__input-el { cursor: default !important}\n\n.dots-input .n-input-wrapper {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n\n.dots-input .n-input__border,\n.dots-input .n-input__state-border {\n  display: none !important;\n}\n.dots-input[color=\"false\"] .n-input__input-el {\n  color: var(--n-color-text) !important;\n}\n.choose-text[color=\"true\"] .n-input__input-el {\n  color: var(--n-color-target) !important;\n}\n.choose-text[color=\"true\"] .n-input__textarea-el {\n  color: var(--n-color-target) !important;\n}\n.choose-text[color=\"true\"] .n-base-selection-input__content {\n  color: var(--n-color-target) !important;\n}\n\n.dots-input .n-input__input-el,\n.dots-input .n-input__input-el:not([disabled=\"\"]) {\n  color: var(--n-color-target) !important;\n}\n\n.dots-check {\n  margin-right: 6px !important\n}\n\n.dots-input .n-input__prefix {\n  margin-right: 6px !important\n}\n\n.dots-input .n-input__suffix {\n  flex-shrink: 0 !important;\n  flex-grow: 0 !important;\n}\n\n.dots-rate.n-rate {\n  vertical-align: middle !important\n}\n\n.dots-rate.n-rate .n-rate__item {\n  margin-left: 1px !important\n}\n\n.dots-rate.n-rate .n-rate__item svg circle {\n  stroke: var(--n-text-color)  !important\n}\n.n-input[color=\"true\"] .n-text--strong {\n  color: var(--n-color-target) !important\n}\n.n-input[color=\"true\"] .dots-rate.n-rate .n-rate__item svg circle {\n  stroke: var(--n-color-target) !important\n}\n\n.dots-rate.n-rate .n-rate__item--active svg circle {\n  fill: var(--n-text-color) !important;\n  stroke: var(--n-text-color) !important;\n}\n.n-input[color=\"true\"] .dots-rate .n-rate__item--active svg circle {\n  fill: var(--n-color-target) !important;\n  stroke: var(--n-color-target) !important;\n}\n</style>\n","<template>\n  <n-space vertical :size=\"6\">\n    <n-text strong>Conditions</n-text>\n    <n-dynamic-tags :input-props=\"{ placeholder: 'Condition', color: true }\" input-class=\"choose-text choose-tag-text\" tag-class=\"tag-text\" style=\"flex-direction: column; gap: 6px\" size=\"large\" type=\"default\" v-model:value=\"caster.conditions\">\n      <template #trigger=\"{ activate, disabled }\">\n        <n-button text style=\"line-height: 20px; width: 100%; justify-content: flex-start; cursor: text; color: rgb(194, 194, 194) !important\" type=\"default\" :disabled=\"disabled\" @click=\"activate()\"> <span style=\"color: black; margin-right: 4px\">•</span>Condition </n-button>\n      </template>\n    </n-dynamic-tags>\n  </n-space>\n  <!-- <n-dynamic-tags\n    input-style=\"width: 100%\"\n    tag-style=\"--n-border-radius: 5px;\n    --n-border: 1px solid #ddd;\n    box-shadow: 0 5px 15px rgba(0,0,0,0.05);\n    --n-text-color: var(--n-color-target);\n    justify-content: space-between;\n    align-items: flex-start;\n    white-space: normal;\n    --n-height: auto;\n    min-height: 34px !important;\n    --n-padding: 10px 12px; --n-color: #fff; width: 100%;\"\n    style=\"flex-direction: column; gap: 6px\"\n    size=\"large\"\n    type=\"default\"\n    v-model:value=\"caster.conditions\"\n  >\n    <template #trigger=\"{ activate, disabled }\">\n      <n-button text style=\"--n-width: 100%\" dashed type=\"default\" :disabled=\"disabled\" @click=\"activate()\"> Add Condition </n-button>\n    </template>\n  </n-dynamic-tags> -->\n</template>\n\n<script setup lang=\"ts\">\nimport { caster } from \"../../store/caster\";\n</script>\n\n<style>\n.choose-tag-text:before {\n  content: \"•\";\n  color: black;\n  margin-right: 4px;\n}\n.choose-tag-text {\n  width: 100%;\n}\n.tag-text:before {\n  content: \"•\";\n  color: black;\n  margin-right: 4px;\n}\n.tag-text {\n  --n-border-radius: 5px;\n  --n-border: none !important;\n  box-shadow: none;\n  --n-text-color: var(--n-color-target);\n  justify-content: flex-start;\n  white-space: normal;\n  --n-height: auto !important;\n  line-height: 21px !important;\n  min-height: 21px !important;\n  --n-padding: 0 !important;\n  --n-color: transparent;\n  width: 100%;\n  color: var(--n-color-target)\n}\n.tag-text span {\n  margin-right: auto;\n}\n</style>\n","<template>\n  <n-select filterable :class=\"text ? 'choose-text' : ''\" :consistent-menu-width=\"false\" placement=\"bottom-end\" :value=\"null\" :placeholder=\"label ? label : 'Choose spell to add'\" @update:value=\"choose\" :options=\"options\">\n    <template #header v-if=\"props.creative\">\n      <n-button block secondary type=\"primary\" @click=\"newCreative\">Creative</n-button>\n    </template>\n    <template #action v-if=\"props.custom\">\n      <n-button block secondary type=\"primary\" @click=\"create\">Create Custom</n-button>\n    </template>\n  </n-select>\n  <n-modal v-model:show=\"is_creating\" title=\"Create Spell\" class=\"card\" style=\"width: 600px; border-width: 0;\" preset=\"card\" size=\"huge\">\n    <template #header-extra> </template>\n    <template #default v-if=\"creating\">\n      <n-space vertical :size=\"6\">\n        <n-input v-model:value=\"creating.name\" placeholder=\"Name\" />\n        <n-input-group>\n          <n-select v-model:value=\"creating.primaryArcana.arcana\" placeholder=\"Arcanum\" :options=\"arcanaNames.map(n => ({ label: n, value: n, key: n }))\" />\n          <n-select\n            v-model:value=\"creating.practice\"\n            placeholder=\"Practice\"\n            :options=\"practices.map(n => ({ label: n.name, value: n.name, key: n.name }))\"\n            @update:value=\"(v: Practice) => {\n                let p = practices.find(p => p.name === v)\n                if (p && creating) creating.primaryArcana.level = p.level;\n              }\"\n          />\n          <n-select v-model:value=\"creating.factor\" placeholder=\"Factor\" :options=\"['Potency', 'Duration'].map(n => ({ label: n, value: n, key: n }))\" />\n          <n-input v-model:value=\"creating.withstand\" placeholder=\"Withstand\" />\n        </n-input-group>\n        <n-input type=\"textarea\" :autosize=\"{ minRows: 1 }\" v-model:value=\"creating.description\" placeholder=\"Description\" />\n        <n-space vertical :size=\"1\" v-if=\"creating?.effects?.length\">\n          <n-input-group v-for=\"(effect, index) in creating?.effects\">\n            <n-select\n              v-for=\"cost in effect.cost\"\n              v-model:value=\"cost.value\"\n              style=\"width: 19%\"\n              :options=\"[\n              { label: `0 ${cost.type}`, value: 0 },\n              { label: `1 ${cost.type}`, value: 1 },\n              { label: `2 ${cost.type}`, value: 2 },\n              { label: `3 ${cost.type}`, value: 3 },\n            ]\"\n            />\n            <n-select :value=\"effect.requirement ? `${effect.requirement.arcana} ${effect.requirement.value}` : undefined\" placeholder=\"Arcanum\" :options=\"requirementOptions\" @update:value=\"effect.requirement = { arcana: $event.split(' ')[0], value: parseInt($event.split(' ')[1]) }\" />\n            <n-input style=\"width: 62%\" v-model:value=\"effect.effect\" placeholder=\"Effect\">\n              <template #suffix>\n                <n-button style=\"margin-right: -5px\" secondary title=\"Remove\" size=\"tiny\" type=\"primary\" @click=\"removeEffect(index)\">\n                  <template #icon>\n                    <n-icon>\n                      <X />\n                    </n-icon>\n                  </template>\n                </n-button>\n              </template>\n            </n-input>\n          </n-input-group>\n        </n-space>\n      </n-space>\n    </template>\n    <template #action v-if=\"creating\">\n      <n-flex justify=\"space-between\">\n        <n-button secondary strong type=\"primary\" size=\"small\" @click=\"addEffect\">\n          <template #icon>\n            <n-icon>\n              <PencilLine />\n            </n-icon>\n          </template>\n          Add Effect\n        </n-button>\n        <n-button :disabled=\"disabled\" strong secondary type=\"success\" size=\"small\" @click=\"save\" title=\"Save\">\n          Save\n          <template #icon>\n            <n-icon>\n              <Save />\n            </n-icon>\n          </template>\n        </n-button>\n      </n-flex>\n    </template>\n  </n-modal>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { spells } from \"../../config/spells\";\nimport type { Arcana, Practice, Source } from \"../../config/types\";\nimport { arcanaNames, practices, } from \"../../config/values\";\nimport { caster } from \"../../store/caster\";\nimport { PencilLine, Save, X } from \"lucide-vue-next\";\n\nconst newCustom = ref(false);\nconst creating = ref<Source>();\nconst is_creating = ref(false);\n\nconst disabled = computed(() => {\n  return (\n    creating.value === undefined ||\n    creating.value?.name === \"\" ||\n    creating.value?.description === \"\"\n  );\n});\n\nfunction create() {\n  is_creating.value = true\n  creating.value = {\n    name: \"\",\n    withstand: \"\",\n    practice: undefined as unknown as Source[\"practice\"],\n    primaryArcana: { arcana: undefined as unknown as Arcana, level: 0 },\n    factor: undefined as unknown as Source[\"factor\"],\n    description: \"\",\n    effects: [],\n    page: `Custom ${Date.now()}`,\n  };\n}\n\nfunction save() {\n  if (creating.value) caster.spells.push(creating.value);\n  reset();\n}\n\nfunction addEffect() {\n  creating.value?.effects?.push({\n    cost: [\n      { type: \"Reach\", value: 0 },\n      { type: \"Mana\", value: 0 },\n    ],\n    requirement: undefined,\n    effect: \"\",\n  });\n}\n\nfunction removeEffect(index: number) {\n  creating.value?.effects?.splice(index, 1);\n}\n\nfunction reset() {\n  creating.value = undefined;\n  is_creating.value = false\n}\n\nconst props = defineProps<{ label?: string; custom?: boolean; creative?: boolean; text?: boolean }>();\nconst emit = defineEmits<(e: \"choose\", option: Source) => void>();\n\nconst sources = computed(() => [...spells, ...caster.spells]);\n\nconst dots = (num: number) => Array.from({ length: num }, () => \"•\").join(\"\");\n\nconst options = computed(() => {\n  const options = [];\n  for (const arcana in caster.arcana) {\n    const name = arcana as Arcana;\n    if (caster.arcana[name].dots > 0) {\n      options.push({\n        type: \"group\",\n        label: name,\n        key: name,\n        children: sources.value\n          .filter(\n            (s) =>\n              s.primaryArcana.arcana === name &&\n              s.primaryArcana.level <= caster.arcana[name].dots,\n          )\n          .sort((a, b) => a.primaryArcana.level - b.primaryArcana.level)\n          .map((s) => {\n            return {\n              label: `${dots(s.primaryArcana.level)} ${s.name}`,\n              style: {\n                fontStyle: s.page.startsWith(\"Custom\") ? \"italic\" : \"none\",\n              },\n              key: s.name,\n              value: s.name,\n            };\n          }),\n      });\n    }\n  }\n  return options;\n});\n\nconst requirementOptions = computed(() => {\n  const options: any = [];\n  for (const arcana of arcanaNames) {\n    options.push({ label: `${arcana} 1`, value: `${arcana} 1` });\n    options.push({ label: `${arcana} 2`, value: `${arcana} 2` });\n    options.push({ label: `${arcana} 3`, value: `${arcana} 3` });\n    options.push({ label: `${arcana} 4`, value: `${arcana} 4` });\n    options.push({ label: `${arcana} 5`, value: `${arcana} 5` });\n  }\n  return options;\n});\n\nfunction newCreative() {}\n\nconst choose = (name: string) => {\n  const source = sources.value.find((s) => s.name === name);\n  if (source) emit(\"choose\", source);\n};\n</script>\n\n<style>\n.choose-text .n-base-selection,\n.choose-text .n-input {\n  --n-padding-single: 0 !important;\n  line-height: 20px !important;\n  --n-height: 20px !important;\n}\n.choose-text.n-input.n-input--textarea {\n  --n-padding-vertical: 0 !important;\n  --n-line-height-textarea: 20px !important;\n  --n-height: 20px !important;\n  height: auto !important\n}\n.choose-text .n-base-selection-label {\n  background: transparent !important;\n}\n.choose-text .n-base-selection-placeholder {\n  justify-content: end;\n}\n.choose-text.n-input {\n  background: transparent !important;\n  height: 20px;\n  line-height: 20px;\n}\n.choose-text.n-input .n-input__input-el {\n  background: transparent !important;\n  height: 20px;\n  line-height: 20px;\n}\n.choose-text .n-input-wrapper {\n  --n-padding-right: 0 !important;\n  --n-padding-left: 0 !important;\n}\n.choose-text .n-base-selection__border,\n.choose-text .n-input__border{\n  display: none;\n}\n.choose-text .n-base-selection__state-border,\n.choose-text .n-input__state-border{\n  display: none;\n}\n.choose-text .n-base-selection .n-base-suffix {\n  display: none;\n}\n</style>\n","<template>\n  <n-message-provider placement=\"top-right\">\n    <n-modal-provider>\n      <n-dialog-provider>\n        <n-config-provider :theme-overrides=\"overrides\">\n          <div class=\"sheet\">\n            <n-grid y-gap=\"6\" x-gap=\"6\" cols=\"12\" item-responsive responsive=\"screen\">\n              <n-gi span=\"12 s:6 m:8\">\n                <n-space vertical :size=\"6\">\n                  <Person />\n                  <Card>\n                    <template #content>\n                      <Attributes />\n                    </template>\n                    <template #footer>\n                      <Skills />\n                    </template>\n                  </Card>\n                  <n-grid y-gap=\"6\" x-gap=\"6\" :cols=\"2\" item-responsive responsive=\"screen\">\n                    <n-gi span=\"2 m:1\">\n                      <n-space vertical :size=\"6\">\n                        <Card>\n                          <template #content>\n                            <Arcana />\n                          </template>\n                        </Card>\n                        <Card>\n                          <template #content>\n                            <Spells />\n                          </template>\n                          <template #footer>\n                            <Tools />\n                          </template>\n                        </Card>\n                        <Card>\n                          <template #content>\n                            <Nimbus />\n                          </template>\n                          <template #footer>\n                            <Attainments />\n                          </template>\n                        </Card>\n                      </n-space>\n                    </n-gi>\n                    <n-gi span=\"2 m:1\">\n                      <n-space vertical :size=\"6\">\n                        <Card>\n                          <template #content>\n                            <Merits />\n                          </template>\n                        </Card>\n                        <Card>\n                          <template #content>\n                            <n-space vertical :size=\"16\">\n                              <n-space vertical :size=\"6\">\n                                <n-text strong>People</n-text>\n                                <n-input class=\"choose-text\" type=\"textarea\" :autosize=\"{ minRows: 1 }\" placeholder=\"Contacts, Retainers, Familiars, etc.\" v-model:value=\"caster.extras.people\" />\n                              </n-space>\n                              <n-space vertical :size=\"6\">\n                                <n-text strong>Places</n-text>\n                                <n-input class=\"choose-text\" type=\"textarea\" :autosize=\"{ minRows: 1 }\" placeholder=\"Sanctums, Demesnes, Safe Places, etc.\" v-model:value=\"caster.extras.places\" />\n                              </n-space>\n                              <n-space vertical :size=\"6\">\n                                <n-text strong>Items</n-text>\n                                <n-input class=\"choose-text\" type=\"textarea\" :autosize=\"{ minRows: 1 }\" placeholder=\"Artifacts, Weapons, Equipment, etc.\" v-model:value=\"caster.extras.things\" />\n                              </n-space>\n                            </n-space>\n                          </template>\n                        </Card>\n                        <Card>\n                          <template #content>\n                            <n-space vertical :size=\"16\">\n                              <n-space vertical :size=\"6\">\n                                <n-text strong>Appearance</n-text>\n                                <n-input class=\"choose-text\" type=\"textarea\" :autosize=\"{ minRows: 1 }\" placeholder=\"What they typically look like\" v-model:value=\"caster.extras.appearance\" />\n                              </n-space>\n                              <n-space vertical :size=\"6\">\n                                <n-text strong>Backstory</n-text>\n                                <n-input class=\"choose-text\" type=\"textarea\" :autosize=\"{ minRows: 1 }\" placeholder=\"Who they were before this\" v-model:value=\"caster.extras.backstory\" />\n                              </n-space>\n                            </n-space>\n                          </template>\n                        </Card>\n                      </n-space>\n                    </n-gi>\n                  </n-grid>\n                </n-space>\n              </n-gi>\n              <!-- Right -->\n              <n-gi span=\"12 s:6 m:4\">\n                <n-space vertical :size=\"6\">\n                  <Status />\n                  <Active />\n                </n-space>\n              </n-gi>\n            </n-grid>\n          </div>\n          <n-drawer v-model:show=\"showList\" :width=\"600\" placement=\"left\">\n            <n-drawer-content>\n              <template #header>\n                <n-space align=\"center\" justify=\"space-between\">\n                  <n-text>Manage Spells</n-text>\n                  <n-input v-model:value=\"showListFilter\" placeholder=\"Search\" />\n                </n-space>\n              </template>\n              <n-space vertical :size=\"6\">\n                <SpellList :filter=\"showListFilter\" />\n              </n-space>\n            </n-drawer-content>\n          </n-drawer>\n          <n-drawer v-model:show=\"showCast\" :width=\"500\" placement=\"right\">\n            <n-drawer-content>\n              <template #header>\n                <Actions />\n              </template>\n              <n-space vertical :size=\"6\">\n                <SpellChoice />\n                <Card>\n                  <template #content>\n                    <SpellFactors />\n                  </template>\n                  <template #footer>\n                    <SpellYantras />\n                  </template>\n                </Card>\n                <!-- <SpellParadox /> -->\n              </n-space>\n            </n-drawer-content>\n          </n-drawer>\n        </n-config-provider>\n      </n-dialog-provider>\n    </n-modal-provider>\n  </n-message-provider>\n</template>\n\n<script setup lang=\"ts\">\nimport { assign, cloneDeep } from \"lodash\";\nimport { BookMarked, IdCardLanyard, WandSparkles } from \"lucide-vue-next\";\nimport type { GlobalThemeOverrides } from \"naive-ui\";\nimport { onBeforeMount, onMounted, ref, toRaw, watch } from \"vue\";\nimport Actions from \"./modules/sections/Actions.vue\";\nimport Active from \"./modules/sections/Active.vue\";\nimport Arcana from \"./modules/sections/Arcana.vue\";\nimport Attributes from \"./modules/sections/Attributes.vue\";\nimport Merits from \"./modules/sections/Merits.vue\";\nimport SpellChoice from \"./modules/sections/SpellChoice.vue\";\nimport SpellFactors from \"./modules/sections/SpellFactors.vue\";\nimport SpellList from \"./modules/sections/SpellList.vue\";\nimport SpellYantras from \"./modules/sections/SpellYantras.vue\";\nimport Status from \"./modules/sections/Status.vue\";\nimport Attainments from \"./modules/sections/Attainments.vue\";\nimport { caster } from \"./store/caster\";\nimport { casting } from \"./store/casting\";\nimport Card from \"./modules/common/Card.vue\";\nimport Skills from \"./modules/sections/Skills.vue\";\nimport Person from \"./modules/sections/Person.vue\";\nimport Nimbus from \"./modules/sections/Nimbus.vue\";\nimport Spells from \"./modules/sections/Spells.vue\";\nimport Tools from \"./modules/sections/Tools.vue\";\nimport SpellAttainments from \"./modules/sections/SpellAttainments.vue\";\n\nconst overrides: GlobalThemeOverrides = {\n  common: {\n    fontWeightStrong: \"600\",\n    primaryColor: \"#50a9bf\",\n    primaryColorHover: \"#6ac3d9\",\n  },\n  Card: {\n    boxShadow: \"0 5px 15px rgba(0,0,0,0.05)\",\n    borderRadius: \"10px\",\n    paddingMedium: \"12px\",\n  }\n};\n\nconst showCast = ref(false)\nconst showList = ref(false);\n\nconst showListFilter = ref(\"\");\n\nwatch(casting, () => {\n  if (casting.spells.length > 0 || casting.form !== undefined) showCast.value = true\n})\n\nonBeforeMount(() => {\n  const hasCharacter = JSON.parse(localStorage.getItem(\"mtaw\") ?? \"null\");\n  if (hasCharacter) assign(caster, hasCharacter);\n});\n\nonMounted(() => {\n  if (window.location.pathname === \"/json\") {\n    const file = JSON.stringify(toRaw(caster), null, 2);\n    const blob = new Blob([file], { type: \"application/json\" });\n    const anchor = document.createElement(\"a\") as HTMLAnchorElement;\n    document.body.appendChild(anchor);\n    anchor.style.display = \"none\";\n    anchor.download = `${caster.details.name || \"character\"}.json`;\n    anchor.href = window.URL.createObjectURL(blob);\n    anchor.dataset.downloadUrl = [\n      \"application/json\",\n      anchor.download,\n      anchor.href,\n    ].join(\":\");\n    anchor.click();\n    window.URL.revokeObjectURL(anchor.href);\n    document.body.removeChild(anchor);\n  }\n});\n\nwatch(caster, () => {\n  const raw = cloneDeep(toRaw(caster));\n  localStorage.setItem(\"mtaw\", JSON.stringify(raw));\n});\n</script>\n\n<style>\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  min-height: 100%;\n  /*overflow: hidden;*/\n  background-color: #f7f3ee;\n  /* background-color: var(--n-color-bg-base); */\n}\n\n.bg {\n  background-color: rgb(223, 223, 182);\n  /* background-color: var(--n-color-bg-base); */\n}\n\n.n-layout { background-color: transparent; }\n.n-layout-sider { background-color: transparent; }\n.n-layout-sider__border { background-color: transparent !important }\n.n-drawer-body-content-wrapper { background: #f6f6f6; }\n\n\n.sheet {\n  max-width: 1200px;\n  min-width: 400px;\n  margin: 0 auto;\n  padding: 24px;\n}\n\n.name-input {\n  --n-border: 0 !important;\n  --n-height: auto !important;\n  --n-padding-left: 0 !important;\n  --n-padding-right: 0 !important;\n}\n.name-input .n-input__state-border {\n  box-shadow: none !important;\n  border: none !important;\n}\n.name-input .n-input__input-el,\n.name-input .n-input__placeholder {\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.n-input.n-input--textarea {\n  --n-line-height-textarea: 21px !important;\n}\n.n-input.n-input--textarea .n-input__prefix {\n  align-items: flex-start\n}\n.n-input.n-input--textarea .n-input__prefix span {\n  line-height: 21px;\n  padding-top: var(--n-padding-vertical);\n  padding-bottom: var(--n-padding-vertical);\n}\n.n-input-number.text-right input.n-input__input-el,\n.n-input-number.text-right .n-input__placeholder {\n  text-align: right;\n}\n\n.n-select.n-select--disabled {\n  opacity: 0.5;\n}\n.n-base-selection.n-base-selection--disabled {\n  opacity: 0.5;\n}\n</style>\n"],"names":[],"version":3,"file":"source.aa167c02.css.map"}